/* Copyright 2013-2015 EasyDNNsolutions.com
 Chameleon has been developed by EasyDNNsolutions.com. It can be
 used only as an integral part of EasyDNNsolutions.com modules.
 All unauthorized copying or use of the code or parts of the code is
 prohibited.
*/
!function(e,i,t){var n="chameleonSlider_1_7";e.fn[n]=function(n){var a={content_source:"",container_dimensions:{width:750,height:400,w_as_ratio:!1,h_as_ratio:!1,height_references_width:!1},autoplay:{enable:!0,interval:4e3,pause_on_hover:!0,autostart_video_playback:!1,indicator:{display:!0,position:{vertical:"top",horizontal:"left",h_offset:0,v_offset:0,h_as_ratio:!1,v_as_ratio:!1,v_center_point:!1,h_center_point:!1},dimensions:{height:2,width:750,h_as_ratio:!1,w_as_ratio:!1},orientation:"horizontal",flip_direction:!1}},arrows:{display:!0,auto_hide:!0,hide_speed:250,prev:{position:{vertical:"top",horizontal:"left",h_offset:0,v_offset:183,h_as_ratio:!1,v_as_ratio:!1,v_center_point:!1,h_center_point:!1}},next:{position:{vertical:"top",horizontal:"right",h_offset:0,v_offset:183,h_as_ratio:!1,v_as_ratio:!1,v_center_point:!1,h_center_point:!1}}},autoplay_toggle:{display:!0,auto_hide:!0,hide_speed:250,position:{vertical:"top",horizontal:"left",h_offset:347,v_offset:130,h_as_ratio:!1,v_as_ratio:!1,v_center_point:!1,h_center_point:!1}},scrollable_boxes:{item_info:{display:!0,container:{dimensions:{height:100,width:750,h_as_ratio:!1,w_as_ratio:!1},resize_to_content:!0,show_on_hover:!1,position:{vertical:"top",horizontal:"left",h_offset:0,v_offset:2,h_as_ratio:!1,v_as_ratio:!1,v_center_point:!1,h_center_point:!1}}},gallery_info:{display:!1,container:{dimensions:{height:100,width:750,h_as_ratio:!1,w_as_ratio:!1},resize_to_content:!0,show_on_hover:!1,position:{vertical:"top",horizontal:"left",h_offset:0,v_offset:2,h_as_ratio:!1,v_as_ratio:!1,v_center_point:!1,h_center_point:!1}}}},thumbs:{display:!0,auto_hide:!1,hide_speed:250,width:100,height:46,captions:!0,display_item_types:!1,pagination:{direction:"horizontal",duration:250,easing:"swing"},tooltips:{enabled:!1,title:!0,description:!1,position:{my:"bottom center",at:"top center"},classes:""},container:{transparent:!0,dimensions:{height:20,width:679,h_as_ratio:!1,w_as_ratio:!1},position:{vertical:"bottom",horizontal:"left",h_offset:35,v_offset:0,h_as_ratio:!1,v_as_ratio:!1,v_center_point:!1,h_center_point:!1}}},categories:{display:!1,auto_hide:!1,hide_speed:250,width:100,height:46,pagination:{direction:"horizontal",duration:250,easing:"swing"},container:{dimensions:{height:20,width:679,h_as_ratio:!1,w_as_ratio:!1},position:{vertical:"bottom",horizontal:"left",h_offset:35,v_offset:0,h_as_ratio:!1,v_as_ratio:!1,v_center_point:!1,h_center_point:!1}}},pagination:{display:!0,pages_at_once:7,direction:"horizontal",position:{vertical:"bottom",horizontal:"right",h_offset:35,v_offset:58,h_as_ratio:!1,v_as_ratio:!1,v_center_point:!1,h_center_point:!1}},title_boxes:{current_item:{display:!1,height:35,position:{vertical:"bottom",horizontal:"left",h_offset:0,v_offset:200,h_as_ratio:!1,v_as_ratio:!1,v_center_point:!1,h_center_point:!1}},current_gallery:{display:!1,height:35,position:{vertical:"top",horizontal:"left",h_offset:0,v_offset:0,h_as_ratio:!1,v_as_ratio:!1,v_center_point:!1,h_center_point:!1}}},buttons:{email:{display:!1,position:{vertical:"top",horizontal:"right",h_offset:35,v_offset:58,h_as_ratio:!1,v_as_ratio:!1,v_center_point:!1,h_center_point:!1},email_subject:"Look at this link"},download:{display:!1,position:{vertical:"top",horizontal:"left",h_offset:35,v_offset:58,h_as_ratio:!1,v_as_ratio:!1,v_center_point:!1,h_center_point:!1}},fullscreen:{display:!1,position:{vertical:"top",horizontal:"left",h_offset:35,v_offset:58,h_as_ratio:!1,v_as_ratio:!1,v_center_point:!1,h_center_point:!1}},exit_fullscreen:{display:!1,position:{vertical:"bottom",horizontal:"right",h_offset:35,v_offset:58,h_as_ratio:!1,v_as_ratio:!1,v_center_point:!1,h_center_point:!1}}},social_buttons:{display:!1,direction:"horizontal",load_after_effect:!0,position:{vertical:"bottom",horizontal:"right",h_offset:35,v_offset:58,h_as_ratio:!1,v_as_ratio:!1,v_center_point:!1,h_center_point:!1},buttons:{facebook:{display:!0,html:'<iframe src="//www.facebook.com/plugins/like.php?href={location_href_encoded}&amp;layout=button_count&amp;show_faces=true&amp;action=like&amp;font&amp;colorscheme=light&amp;height=20" scrolling="no" frameborder="0" style="border:none; overflow:hidden; height:20px; width: 100px;" allowTransparency="true"></iframe>'},google:{display:!0,html:'<g:plusone size="medium" href="{location_href}" annotation="bubble"></g:plusone><script type="text/javascript">gapi.plusone.go();</script>'},twitter:{display:!0,html:'<a href="//twitter.com/share" class="twitter-share-button" data-url="{location_href}" data-count="horizontal">Tweet</a><script type="text/javascript" src="//platform.twitter.com/widgets.js"></script>'}},hideable:!1,container:{width:100,height:100}},main_panel:{display:!0,fill_panel:!1,stretch_small_image:!1,top_left_align:!1,drag_navigation:!1,dimensions:{width:750,height:400,h_as_ratio:!1,w_as_ratio:!1},position:{vertical:"top",horizontal:"left",h_offset:0,v_offset:0,h_as_ratio:!1,v_as_ratio:!1,v_center_point:!1,h_center_point:!1},trim:{top:0,bottom:0,left:0,right:0},transition:{duration:800,effects:[]}},lightbox_title:!1,lightbox_description:!1,key_browse:!0,redirect_on_click:!1,redirect_on_click_target:"_self",lightbox_on_click:!1,module_id:0,portal_id:0,article_id:0,filter_values:"",filter_types:"",locale:"",inhouse_player:"flowplayer",flowplayer_src:"",fullscreen_provider:"pp",pretty_photo_options:{},smb_options:{},smbLight_options:{},cycle_current_category:!0,open_at:null,modify_browser_history:!1},o=e.extend(!0,{},a,n),s=i.history.location||i.location;return this.each(function(){var n,a,r,l,c,d,p,_,h,g,u,m,f,y,b,v,w,x,j=e(this),k={trys:0},q=e('<div class="loading_slider_overlay" />'),T=e('<div class="indicator" />'),z=e("<p />"),M={category:{},item:{}},C=0,E={},O=e(),P={interval:"",last_started:0,pause_time:0,start_pause_delta:0,time_remaining:0,pause:!1,user_paused:!1,fade_in:!1,reset:!1,transition_in_progres:!1,video_playing:!1},L={container_dimensions:{},thumbs:{page:{vertical_space:0,horizontal_space:0,width:0,height:0,count:0},container:{},width:0,height:0,per_page:0,per_row:0,row_count:0,window_width:0,window_height:0},categories:{page:{vertical_space:0,horizontal_space:0,width:0,height:0,count:0},container:{},width:0,height:0,per_page:0,per_row:0,row_count:0,window_width:0,window_height:0,render_categories:!0},autoplay:{indicator:{}},title_boxes:{current_item:{},current_gallery:{}},scrollable_boxes:{item_info:{},gallery_info:{}},pagination:{pages_at_once:0,page:{width:0,height:0}},main_panel:{dimensions:{},initialized:!1,disable_clicking:!1,disable_clicking_interval:""},preloaded_images:{},preloading_item:!1,buttons:{email:{},download:{},fullscreen:{},exit_fullscreen:{}},html5:{video:!1},youtube_iframe_api:{called:!1,loaded:!1},youtube_player_object:void 0,ios:!1,mouse_entered:!1},H={init:function(){var r=t.createElement("video");o.container_dimensions.w_as_ratio||o.container_dimensions.h_as_ratio?(n=j.parent(),L.container_dimensions={width:o.container_dimensions.w_as_ratio?Math.round(n.width()*o.container_dimensions.width):o.container_dimensions.width,height:0},L.container_dimensions.height=o.container_dimensions.h_as_ratio?Math.round((o.container_dimensions.height_references_width?L.container_dimensions.width:n.height())*o.container_dimensions.height):o.container_dimensions.height,e(i).bind("resize.chameleonSlider",function(){clearTimeout(a),a=setTimeout(function(){L.container_dimensions={width:o.container_dimensions.w_as_ratio?Math.round(n.width()*o.container_dimensions.width):o.container_dimensions.width,height:0},L.container_dimensions.height=o.container_dimensions.h_as_ratio?Math.round((o.container_dimensions.height_references_width?L.container_dimensions.width:n.height())*o.container_dimensions.height):o.container_dimensions.height,j.trigger("resize_slider")},200)})):L.container_dimensions={width:o.container_dimensions.width,height:o.container_dimensions.height},j.width(L.container_dimensions.width).height(L.container_dimensions.height).append(q).bind("destroy",function(){clearTimeout(P.interval)}),q.width(L.container_dimensions.width).height(L.container_dimensions.height).append(T).show(0);try{L.html5.video=!!r.canPlayType}catch(l){}(navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/iPad/i))&&(L.ios=!0),o.modify_browser_history&&e(i).on("popstate",function(){H.parse_slider_url_hash(s.hash),H.show_item(M.item.index,!0,void 0,!0)}),H.get_content_source()},get_content_source:function(){return k.trys>3?void(z.is(":visible")?z.html("Unable to display the items (requesting the items failed)"):T.fadeOut(250,function(){z=e("<p>Unable to display the items (requesting the items failed)</p>"),z.appendTo(q).css({display:"block",top:Math.floor((L.container_dimensions.height-z.outerHeight(!0))/2)})})):(k.trys+=1,void e.ajax({dataType:"json",type:"get",url:o.content_source,timeout:15e3,data:"mid="+o.module_id+"&portal_id="+o.portal_id+"&locale="+o.locale+"&article_id="+o.article_id+"&html5_player="+(L.html5.video&&L.ios?"1":"0")+(""===o.filter_values?"":"&filter_values="+o.filter_values+"&filter_types="+o.filter_types),success:H.load,complete:H.ajax_callback,cache:!1}))},ajax_callback:function(e,i){"success"!==i&&H.get_content_source()},parse_slider_url_hash:function(i){var t,n=i.substring(1),a=n.indexOf("/"),o=void 0;t=n.substring(a+1),a=t.indexOf("/"),-1!==a&&(o=t.substring(a+1),a=o.indexOf("/"),-1!==a&&(o=o.substring(0,a)),o||(o=void 0),t=t.substring(0,t.indexOf("/"))),l={ids:t.split("-"),indexes:[]},l.indexes=H.category_indexes_from_ids(e.extend([],l.ids),r),0==l.indexes.length&&(l.indexes=[0],l.ids=[r[0].id]),M.category=H.get_category(l.indexes),M.category.item_count=M.category.items.length,M.item={id:0,index:H.item_index_from_id(o)},M.item.id=M.category.items[M.item.index].id},load:function(t){var n=s.hash.substring(1),a=n.indexOf("/"),c=-1==a?"":n.substring(0,a);return 0==t.content.length?void T.fadeOut(250,function(){z=e("<p>"+(t.user_friendly_msg?t.user_friendly_msg:"There are no items to display.")+"</p>"),z.appendTo(q).css({display:"block",top:Math.floor((L.container_dimensions.height-z.outerHeight(!0))/2)})}):(r=t.content,null!=o.open_at?(l={ids:o.open_at.categories,indexes:[]},l.indexes=H.category_indexes_from_ids(e.extend([],l.ids),r),0==l.indexes.length&&(l.indexes=[0],l.ids=[r[0].id]),M.category=H.get_category(l.indexes),M.category.item_count=M.category.items.length,M.item={id:0,index:H.item_index_from_id(o.open_at.item)},M.item.id=M.category.items[M.item.index].id):c=="slider_"+o.module_id||c=="gallery_"+o.module_id?(H.parse_slider_url_hash("#"+n),"smb"==o.fullscreen_provider&&c=="gallery_"+o.module_id&&M.category.item_count>0&&!function(){var i=[];o.smb_options.openAt=0,e.each(M.category.items,function(e,t){t.id===M.item.id&&(o.smb_options.openAt=e),i.push(t.smb_object)}),e("<div />").data("socialMediaBox",i).socialMediaBox(o.smb_options)}()):(l={ids:[r[0].id],indexes:[0]},M.category=r[0],M.category.item_count=M.category.items.length,M.item={id:void 0,index:H.item_index_from_id(void 0)}),"YT"in i&&"Player"in i.YT&&(L.youtube_iframe_api.called=!0,L.youtube_iframe_api.loaded=!0),o.buttons.exit_fullscreen.display&&H.exit_fullscreen.init(),o.autoplay.enable&&H.autoplay.init(),o.pagination.display&&H.pagination.init(),o.social_buttons.display&&H.social_buttons.init(),o.buttons.email.display&&H.email_button.init(),o.buttons.download.display&&H.download_button.init(),o.buttons.fullscreen.display&&H.fullscreen_button.init(),o.autoplay_toggle.display&&H.autoplay_toggle.init(),o.arrows.display&&H.arrows.init(),o.categories.display&&H.categories.init(),o.thumbs.display&&H.thumbnails.init(),o.title_boxes.current_item.display&&H.item_title.init(),o.title_boxes.current_gallery.display&&H.gallery_title.init(),o.scrollable_boxes.item_info.display&&H.item_info.init(),o.scrollable_boxes.gallery_info.display&&H.gallery_info.init(),void(o.main_panel.display?H.main_panel.init():H.triggers()))},show_item:function(e,i,t,n){var a,r;e=parseInt(e,10),i="undefined"==typeof i?!1:!0,(e!==M.item.index||i)&&("function"==typeof H._on_pre_item_change&&(H._on_pre_item_change(),H._on_pre_item_change=void 0),P.video_playing=!1,0>e?e=M.category.item_count-1:e>=M.category.item_count&&(e=0),H.autoplay.reset(),C=M.item.index,M.item.index=e,M.item.id=M.category.items[e].id,H.pagination.select(e),H.social_buttons.display(e),H.thumbnails.select(e),H.item_title.select(e),H.item_info.display(e),H.download_button.display(e),H.email_button.display(e),o.modify_browser_history&&!n&&(a=s.href.indexOf("#"),r=-1==a?s.href:s.href.substring(0,a),r+="#slider_"+o.module_id+"/"+l.ids.join("-")+"/"+M.item.id,history.pushState(null,null,r)),o.main_panel.display?L.preloading_item||("undefined"==typeof t?H.main_panel.display(e):H.main_panel.display(e,t)):j.trigger("slider_transition_finnished"))},next:function(){var e,i=r.length;return o.cycle_current_category||M.item.index!=M.category.item_count-1?void H.show_item(M.item.index+1):(e=l.indexes.pop()+1,0!=l.indexes.length&&(i=H.get_category(l.indexes).children.length),l.indexes.push(i>e?e:0),l.ids=H.category_ids_from_indexes(l.indexes),M.category=H.get_category(l.indexes),M.category.item_count=M.category.items.length,M.item={id:M.category.items[0].id,index:0},L.categories.render_categories=!1,void H.change_category())},prev:function(){var e,i=r.length;return o.cycle_current_category||0!=M.item.index?void H.show_item(M.item.index-1):(e=l.indexes.pop()-1,0!=l.indexes.length&&(i=H.get_category(l.indexes).children.length),l.indexes.push(0>e?i-1:e),l.ids=H.category_ids_from_indexes(l.indexes),M.category=H.get_category(l.indexes),M.category.item_count=M.category.items.length,M.item={id:M.category.items[M.category.items.length-1].id,index:M.category.items.length-1},L.categories.render_categories=!1,void H.change_category())},pagination:{init:function(){var i;h=e('<div class="pagination" />'),g=e('<ul class="pages_container" />'),h.append(g),h.css("visibility","hidden"),j.prepend(h),H.position_element(h,o.pagination.position),i=e("<li><span></span></li>"),g.append(i),L.pagination.page.width=i.outerWidth(!0),L.pagination.page.height=i.outerHeight(!0),h.css("visibility",""),H.pagination.display_category(),H.pagination.select(M.item.index),g.delegate("li","click",function(){return H.show_item(e(this).index()),!1})},display_category:function(){if(o.pagination.display){var i=0,t="";for(h.css("display","none"),g.html(""),L.pagination.pages_at_once=M.category.item_count<o.pagination.pages_at_once?M.category.item_count:o.pagination.pages_at_once,"horizontal"===o.pagination.direction?(h.addClass("horizontal"),h.width(L.pagination.pages_at_once*L.pagination.page.width),h.height(L.pagination.page.height),g.width(M.category.item_count*L.pagination.page.width),g.height(L.pagination.page.height)):(h.addClass("vertical"),h.width(L.pagination.page.width),h.height(L.pagination.pages_at_once*L.pagination.page.height),g.width(L.pagination.page.width),g.height(M.category.item_count*L.pagination.page.height));i<M.category.item_count;i++)t+="<li><span></span></li>";u=e(t),g.append(u),h.css("display","")}},select:function(e){if(o.pagination.display){var i=Math.floor(L.pagination.pages_at_once/2),t=e-i,n={};0>t?t=0:e>=M.category.item_count-i&&(t=M.category.item_count-L.pagination.pages_at_once),n="horizontal"==o.pagination.direction?{left:-(t*L.pagination.page.width)}:{top:-(t*L.pagination.page.height)},g.stop().animate(n,250),u.removeClass("current"),u.eq(e).addClass("current")}}},social_buttons:{init:function(){m=e('<div class="social_buttons '+o.social_buttons.direction+'" />'),o.social_buttons.hideable?(f=e('<div class="social_buttons_toggle '+o.social_buttons.direction+'" />'),j.prepend(f),H.position_element(f,o.social_buttons.position),m.fadeTo(200,0,function(){m.hide()}).data("visible",!1),j.prepend(m),H.position_element(m,e.extend({},o.social_buttons.position,{h_offset:o.social_buttons.position.h_offset+f.outerWidth(!0)+5})),f.click(function(){m.data("visible")?(m.data("visible",!1).stop().fadeTo(200,0,function(){m.empty().hide()}),f.removeClass("active")):(m.data("visible",!0).stop().fadeTo(200,1),H.social_buttons.display(M.item.index),f.addClass("active"))})):(j.prepend(m),H.position_element(m,o.social_buttons.position)),H.social_buttons.display(M.item.index)},display:function(e){if(o.social_buttons.display&&(!o.social_buttons.hideable||m.data("visible"))){var i="",t="";m.html(""),"string"==typeof M.category.items[e].social_button_url?t=M.category.items[e].social_button_url:(t=-1==s.href.indexOf("#")?s.href:s.href.substring(0,s.href.indexOf("#")),t=H.set_url_param(H.set_url_param(t,"edgpid",M.category.items[e].id),"edgmid",o.module_id)+"#slider_"+o.module_id+"/"+l.ids.join("-")+"/"+M.category.items[e].id+"/");for(button in o.social_buttons.buttons)o.social_buttons.buttons[button].display&&(i+='<div class="social_button">',i+=o.social_buttons.buttons[button].html.replace(/{location_href}/g,t).replace(/{location_href_encoded}/g,encodeURIComponent(t)),i+="</div>");P.transition_in_progres&&o.social_buttons.load_after_effect?(j.unbind("slider_transition_finnished.social_buttons"),j.bind("slider_transition_finnished.social_buttons",function(){m.html("").append(i)})):m.append(i)}}},_button:{init:function(i){L.buttons[i.type]=e('<a class="standalone_button'+(i.custom_class?" "+i.custom_class:"")+'" href="#">'+i.text+"</a>"),j.prepend(L.buttons[i.type]),H.position_element(L.buttons[i.type],o.buttons[i.type].position)},display:function(e){e.target="string"==typeof e.target?e.target:"_self",L.buttons[e.type].attr({href:e.href,target:e.target})}},email_button:{init:function(){H._button.init({type:"email",custom_class:"email",text:"Email this"}),H.email_button.display(M.item.index)},display:function(){var e,i=s.href.indexOf("#");o.buttons.email.display&&(e=-1==i?s.href:s.href.substring(0,i),e+="#slider_"+o.module_id+"/"+l.ids.join("-")+"/"+M.category.items[M.item.index].id,H._button.display({type:"email",href:"mailto:?subject="+escape(o.buttons.email.email_subject)+"&body="+encodeURIComponent(e)}))}},download_button:{init:function(){H._button.init({type:"download",custom_class:"download",text:"Download"}),H.download_button.display(M.item.index)},display:function(e){var i=M.category.items[e].download_url;o.buttons.download.display&&(i=i?i:"#",H._button.display({type:"download",href:i,target:"_blank"}),"#"==i?L.buttons.download.stop().fadeTo(200,0):L.buttons.download.stop().fadeTo(200,1))}},fullscreen_button:{init:function(){H._button.init({type:"fullscreen",custom_class:"fullscreen",text:"Fullscreen"}),L.buttons.fullscreen.click(function(){return e(this).chameleonSliderFullscreen(o.fullscreen_options),!1})}},exit_fullscreen:{init:function(){H._button.init({type:"exit_fullscreen",custom_class:"exit_fullscreen",text:"Exit fullscreen"})}},main_panel:{init:function(){var n,a="mousedown",s="mousemove",r="mouseup";c=e('<div class="main_panel" />'),H.main_panel.size(),d=e('<div class="items_wrapper" />'),c.append(d),j.prepend(c),(o.redirect_on_click||o.lightbox_on_click)&&(O=e('<a href="#" class="media_link" />'),o.redirect_on_click&&O.attr("target",o.redirect_on_click_target),c.append(O)),!o.redirect_on_click&&o.lightbox_on_click&&(p=e('<div class="lightbox_links_container" style="display: none;"></div>'),d.append(p)),j.bind("slider_transition_finnished.main_panel",function(){P.transition_in_progres=!1}),H.main_panel.display_category(!0),L.preloading_item||(H.main_panel.display(M.item.index,""),H.triggers()),o.main_panel.drag_navigation&&(n="ontouchstart"in i,n&&(a="touchstart",s="touchmove",r="touchend"),c.delegate("a","click",function(e){L.main_panel.disable_clicking&&e.preventDefault()}).bind(a+".chameleon_"+o.module_id,function(e){n&&(e.originalEvent.touches&&e.originalEvent.touches.length?e=e.originalEvent.touches[0]:e.originalEvent.changedTouches&&e.originalEvent.changedTouches.length&&(e=e.originalEvent.changedTouches[0])),c.data("dragging",{start_position:{left:e.pageX,top:e.pageY}}),e.preventDefault()}),e(t).bind(s+".chameleon_"+o.module_id,function(e){var i,t;if("object"==typeof c.data("dragging")&&(t=c.data("dragging").start_position,L.main_panel.disable_clicking=!0,n&&(e.originalEvent.touches&&e.originalEvent.touches.length?e=e.originalEvent.touches[0]:e.originalEvent.changedTouches&&e.originalEvent.changedTouches.length&&(e=e.originalEvent.changedTouches[0])),!(Math.abs((t.top-e.pageY)/(e.pageX-t.left))>=1))){if(i=t.left-e.pageX,Math.abs(i)<50)return!1;c.data("dragging",!1),0>i?H.prev():H.next()}}).bind(r+".chameleon_"+o.module_id,function(){c.data("dragging",!1),L.main_panel.disable_clicking_interval=setTimeout(function(){L.main_panel.disable_clicking=!1},10)})),L.main_panel.initialized=!0},size:function(){o.main_panel.display&&(L.main_panel.dimensions=H.get_dimensions(o.main_panel.dimensions),L.main_panel.dimensions.height-=o.main_panel.trim.top+o.main_panel.trim.bottom,L.main_panel.dimensions.width-=o.main_panel.trim.left+o.main_panel.trim.right,H.position_element(c,o.main_panel.position),c.width(L.main_panel.dimensions.width).height(L.main_panel.dimensions.height))},display_category:function(i){var t,n,a,s,r="",l=0,d=M.category.items[M.item.index],h=[];if(o.main_panel.display){for(("image"==d.type||("video"==d.type||"audio"==d.type)&&o.lightbox_on_click)&&(L.preloading_item=!0,i?e("<img />").load(function(){L.preloading_item=!1,H.main_panel.display(M.item.index,""),H.triggers()}).error(function(){L.preloading_item=!1,H.triggers()}).attr("src",d.src):(c.append('<div class="preloading_item" />'),e("<img />").load(function(){L.preloading_item=!1,H.main_panel.display(M.item.index,""),c.find(".preloading_item").fadeOut(1e3,function(){e(this).remove()})}).error(function(){L.preloading_item=!1,H.main_panel.display(M.item.index,""),c.find(".preloading_item").fadeOut(1e3,function(){e(this).remove()})}).attr("src",d.src)));l<M.category.item_count;l++)t=M.category.items[l],"image"!=t.type&&("video"!=t.type&&"audio"!=t.type||!o.lightbox_on_click)||L.preloaded_images[t.src]||(L.preloaded_images[t.src]={loading:!0,loaded:!1},e("<img />").load({src:t.src},function(e){L.preloaded_images[e.data.src]={loading:!1,loaded:!0,width:this.width,height:this.height}}).attr("src",t.src)),!o.redirect_on_click&&o.lightbox_on_click&&("image"==t.type||"video"==t.type||"audio"==t.type?(n=t.lightbox_url,a=t.download_url?t.download_url:"",s=t.src):(n="",a="",s=""),"pp"==o.fullscreen_provider?n&&(r+='<a href="'+n+'" rel="prettyPhoto_M'+o.module_id+'" edgmid="'+o.module_id+'" edgpid="'+t.id+'" downhref="'+a+(o.lightbox_description&&t.info?'" pptitle="'+t.info.replace('"',"&quot;"):"")+'"><img src="'+s+'" alt="'+(o.lightbox_title&&t.title?t.title:"")+'" /></a>'):"smb"==o.fullscreen_provider?e.isPlainObject(t.smb_object)&&!e.isEmptyObject(t.smb_object)&&h.push(t.smb_object):"smbLight"==o.fullscreen_provider&&e.isPlainObject(t.smbLight_object)&&!e.isEmptyObject(t.smbLight_object)&&h.push(t.smbLight_object));!o.redirect_on_click&&o.lightbox_on_click&&("pp"==o.fullscreen_provider?(p.html(r),_=p.find("> a"),_.prettyPhoto(o.pretty_photo_options)):"smb"==o.fullscreen_provider?p.data("socialMediaBox",h):"smbLight"==o.fullscreen_provider&&p.data("smbLightItems",h))}},display:function(i){var t,n="",a="",s=M.category.items[i];o.main_panel.display&&(P.transition_in_progres=!0,O.unbind("click"),"image"==s.type?(2==arguments.length?a=n=arguments[1]:1==o.main_panel.transition.effects.length?a=n=o.main_panel.transition.effects[0]:o.main_panel.transition.effects.length>1&&(t=Math.floor(Math.random()*o.main_panel.transition.effects.length),a=n=o.main_panel.transition.effects[t]),O.css("display","block"),o.redirect_on_click&&O.attr("href","string"==typeof s.on_click_url&&s.on_click_url?s.on_click_url:"#")):("video"==s.type||"audio"==s.type)&&(n="",o.redirect_on_click||"undefined"!=typeof s.html&&""!=s.html?O.css("display","none"):O.css("display","block")),!o.redirect_on_click&&o.lightbox_on_click&&O.attr("href","#").click(function(){var i;return L.main_panel.disable_clicking?!1:("pp"==o.fullscreen_provider?_.filter('a[edgpid="'+s.id+'"]').trigger("click"):"smb"==o.fullscreen_provider?(o.smb_options.openAt=0,e.each(p.data("socialMediaBox"),function(e,i){return i.id===s.id?(o.smb_options.openAt=e,!1):void 0}),p.socialMediaBox(o.smb_options)):"smbLight"==o.fullscreen_provider&&(i=p.data("smbLightItems"),o.smbLight_options.openAt=0,e.each(i,function(e,i){return i.id===s.id?(o.smbLight_options.openAt=e,!1):void 0}),new SmbLight_1(i,o.smbLight_options)),!1)}),"object"==typeof a?n=a.type:""==n&&(n="show"),void 0!=L.youtube_player_object&&(L.youtube_player_object.getIframe().src="",L.youtube_player_object.stopVideo(),L.youtube_player_object=void 0),H.main_panel._transitions[n](i,a),o.main_panel.fill_panel&&("image"==s.type||("video"==s.type||"audio"==s.type)&&o.lightbox_on_click)&&H.main_panel._fit_image(d.find("> .item_container").filter(":last").find("> img")))},_fit_image:function(i){var t=i.attr("src"),n=L.preloaded_images[t],a=function(e,i){var t,n,a,s=L.main_panel.dimensions.width,r=L.main_panel.dimensions.height;(i.width!=s||i.height!=r)&&(e.css({position:"relative"}),i.width>s||i.height>r||o.main_panel.stretch_small_image?(e.css({width:"100%",height:"auto"}),t=s/i.width,n=Math.floor(i.height*t),r>n?(t=r/i.height,a=Math.floor(i.width*t),e.css({height:"100%",width:"auto"}),o.main_panel.top_left_align||e.css({left:-Math.floor((a-s)/2)})):n>r&&!o.main_panel.top_left_align&&e.css({top:-Math.floor((n-r)/2)})):o.main_panel.top_left_align||(i.width<s&&e.css({left:Math.floor((s-i.width)/2)}),i.height<r&&e.css({top:Math.floor((r-i.height)/2)})))};n&&n.loaded?a(i,n):e("<img />").load({src:t,$img:i},function(e){L.preloaded_images[e.data.src]={loading:!1,loaded:!0,width:this.width,height:this.height},a(e.data.$img,L.preloaded_images[e.data.src])}).attr("src",t)},_transitions:{show:function(i){var t,n,a,s,r='<div class="item_container new_item">',c=M.category.items[i],p=d.find("> .item_container").eq(0),_="undefined"==typeof c.html||""==c.html?"":c.html,h="",g=!1,u="";"video"!=c.type&&"audio"!=c.type||!_?(u="object"==typeof c.thumb&&c.thumb.caption?c.thumb.caption:"",r+='<img alt="'+u+'" src="'+c.src+'" />'):(n="undefined"==typeof c.video_src||""==c.video_src?"":c.video_src,""==n?o.autoplay.enable&&(h=H._video.get_provider(_),a=H._video.get_video_id(h,_)):(h=o.inhouse_player,a=n),L.html5.video&&L.ios||""===h?r+=_:(g=!0,s="chameleon_video_container_"+o.module_id+"_"+l.indexes.join("-")+"_"+M.item.index+"_"+Math.round(1e5*Math.random()),r+='<div id="'+s+'"></div>')),r+="</div>",t=e(r),d.find("> .item_container.new_item").removeClass("new_item"),t.css({width:L.main_panel.dimensions.width,height:L.main_panel.dimensions.height}).appendTo(d),g&&H._video.player_setup({container:s,provider:h,id:a,dimensions:L.main_panel.dimensions}),p.hasClass("new_item")||p.remove(),g||j.trigger("slider_transition_finnished")},fade:function(i){var t=M.category.items[i],n="object"==typeof t.thumb&&t.thumb.caption?t.thumb.caption:"",a=e('<div class="item_container"><img alt="'+n+'" src="'+t.src+'" /></div>');d.find("> .item_container.new_item").removeClass("new_item"),a.css({width:L.main_panel.dimensions.width,height:L.main_panel.dimensions.height,display:"none"}).appendTo(d).fadeIn(o.main_panel.transition.duration,function(){var e=d.find("> .item_container").eq(0);e.hasClass("new_item")||e.remove(),j.trigger("slider_transition_finnished")})},slide:function(i,t){var n=M.category.items[i],a="object"==typeof n.thumb&&n.thumb.caption?n.thumb.caption:"",s=e('<div class="item_container new_item"><img alt="'+a+'" src="'+n.src+'" /></div>'),r=d.find("> .item_container").filter(":last"),l="left",c=function(){var e=d.find("> .item_container").eq(0);e.hasClass("new_item")||e.remove(),j.trigger("slider_transition_finnished")};switch(t.force_horizontal?l=i>C?"left":"right":t.force_vertical?l=i>C?"up":"down":1==t.directions.length?l=t.directions[0]:t.directions.length>1&&(l=t.directions[Math.floor(Math.random()*t.directions.length)]),d.find("> .item_container.new_item").removeClass("new_item"),s.css({width:L.main_panel.dimensions.width,height:L.main_panel.dimensions.height}),l){case"down":s.css("top",-L.main_panel.dimensions.height).appendTo(d).animate({top:0},o.main_panel.transition.duration,"swing",c),r.animate({top:L.main_panel.dimensions.height},o.main_panel.transition.duration,"swing");break;case"up":s.css("top",L.main_panel.dimensions.height).appendTo(d).animate({top:0},o.main_panel.transition.duration,"swing",c),r.animate({top:-L.main_panel.dimensions.height},o.main_panel.transition.duration,"swing");break;case"right":s.css("left",-L.main_panel.dimensions.width).appendTo(d).animate({left:0},o.main_panel.transition.duration,"swing",c),r.animate({left:L.main_panel.dimensions.width},o.main_panel.transition.duration,"swing");break;default:s.css("left",L.main_panel.dimensions.width).appendTo(d).animate({left:0},o.main_panel.transition.duration,"swing",c),r.animate({left:-L.main_panel.dimensions.width},o.main_panel.transition.duration,"swing")}},stripes:function(i,t){var n,a=0,s=0,r=0,l=0,c=0,p=0,_=0,h=0,g=0,u=0,m=M.category.items[i].src,f=Math.floor(o.main_panel.transition.duration/t.num_of_stripes),y=e('<div class="item_container new_item"></div>'),b=function(){var e=d.find("> .item_container").eq(0);e.hasClass("new_item")||e.remove(),j.trigger("slider_transition_finnished")},v=function(i,n){var d=a,v=s,w=function(){var e;e="horizontal"==t.orientation?{left:0,opacity:1}:{top:0,opacity:1},i.animate(e,{duration:o.main_panel.transition.duration,easing:"swing",complete:function(){0==t.start_at||2==t.start_at?n+1==t.num_of_stripes&&b():1==t.start_at?0==n&&b():n==Math.floor(t.num_of_stripes/2)&&b()}})};if("horizontal"==t.orientation?(c=n*s,p=0===t.direction?-a:1===t.direction?a:n%2==0?-a:a,_=g-c,h=u):(p=n*a,c=0===t.direction?-s:1===t.direction?s:n%2==0?-s:s,_=g,h=u-p),n+1==t.num_of_stripes&&(d=r,v=l),i=e('<div class="fancy_effect_element" />'),i.css({width:d,height:v,top:c,left:p,opacity:0,background:"url('"+m+"') no-repeat "+h+"px "+_+"px "+j.css("background-color")}).appendTo(y),0===t.start_at)setTimeout(w,n*f+1);else if(1==t.start_at)setTimeout(w,(t.num_of_stripes-1-n)*f+1);else if(2==t.start_at||3==t.start_at){var x,k=0;t.num_of_stripes%2==0?(x=t.num_of_stripes/2,x>n?k=3==t.start_at?n:Math.abs(n-x+1):(k=n-x,3==t.start_at&&(k=x-1-k))):(x=Math.floor(t.num_of_stripes/2),k=x>n?x-n:n-x,3==t.start_at&&(k=x-k)),setTimeout(w,k*f+1)}};t=e.extend(!0,{orientation:"vertical",num_of_stripes:12,direction:0,start_at:0,randomize:{orientation:!1,direction:!1,start_at:!1}},t),t.randomize.orientation&&(t.orientation=0==Math.floor(2*Math.random())?"horizontal":"vertical"),t.randomize.direction&&(t.direction=Math.floor(3*Math.random())),t.randomize.start_at&&(t.start_at=Math.floor(4*Math.random())),d.find("> .item_container.new_item").removeClass("new_item"),y.css({width:L.main_panel.dimensions.width,height:L.main_panel.dimensions.height}).appendTo(d),"horizontal"==t.orientation?(r=a=L.main_panel.dimensions.width,s=Math.ceil(L.main_panel.dimensions.height/t.num_of_stripes),l=s*t.num_of_stripes-L.main_panel.dimensions.height,l=0==l?s:s-l):(l=s=L.main_panel.dimensions.height,a=Math.ceil(L.main_panel.dimensions.width/t.num_of_stripes),r=a*t.num_of_stripes-L.main_panel.dimensions.width,r=0==r?a:a-r),function(e){var i=L.main_panel.dimensions.width,t=L.main_panel.dimensions.height;(e.width!=i||e.height!=t)&&(e.width<i?u=Math.floor((i-e.width)/2):e.width>i&&(u=-Math.floor((e.width-i)/2)),e.height<t?g=Math.floor((t-e.height)/2):e.height>t&&(g=-Math.floor((e.height-t)/2)))}(L.preloaded_images[m]);for(var w=0;w<t.num_of_stripes;w++)v(n,w)}}},_on_pre_item_change:void 0,_video:{get_provider:function(e){if("<iframe"==e.substring(0,7)){if(-1!==e.indexOf("youtube.com/embed/",7))return"youtube";if(-1!==e.indexOf("player.vimeo.com/video/",7))return"vimeo"}return""},get_video_id:function(i,t){var n,a;switch(i){case"youtube":case"vimeo":return n=e("<div>"+t+"</div>").find("iframe:first").attr("src"),a=n.indexOf("?"),-1!==a&&(n=n.substring(0,a)),"/"==n[n.length-1]&&(n=n.substring(0,n.length-1)),n.substring(n.lastIndexOf("/")+1);
default:return""}},player_setup:function(i){var t=e("#"+i.container);switch(t.css(i.dimensions),i.container=t,i.provider){case"youtube":H._video._youtube_player(i);break;case"vimeo":H._video._vimeo_player(i);break;case"flowplayer":H._video._flow_player(i)}},_youtube_player:function(e){var n,a,r,l=e.container.attr("id")+"_object",c='<iframe id="'+l+'" type="text/html" width="'+e.dimensions.width+'" height="'+e.dimensions.height+'" src="//www.youtube.com/embed/'+e.id+"?enablejsapi=1&amp;wmode=transparent&amp;origin="+s.protocol+"//"+s.host+'" frameborder="0"></iframe>',d=function(){r=new YT.Player(l,{events:{onReady:function(){L.youtube_player_object=r,j.trigger("slider_transition_finnished"),o.autoplay.autostart_video_playback&&r.playVideo()},onStateChange:function(e){switch(e.data){case YT.PlayerState.PLAYING:P.video_playing=!0,H.autoplay.reset();break;case YT.PlayerState.ENDED:setTimeout(H.next,1e3)}}}})};e.container.append(c),L.youtube_iframe_api.called||(L.youtube_iframe_api.called=!0,n=t.createElement("script"),n.src="//www.youtube.com/iframe_api",a=t.getElementsByTagName("script")[0],a.parentNode.insertBefore(n,a)),L.youtube_iframe_api.loaded?d():i.onYouTubeIframeAPIReady=function(){L.youtube_iframe_api.loaded=!0,d()}},_vimeo_player:function(t){var n="//player.vimeo.com/video/"+t.id,a=!1,s=function(e,i){var t={method:e};i&&(t.value=i),$player[0].contentWindow.postMessage(JSON.stringify(t),n)};onPlayerEvent=function(e){var i=JSON.parse(e.data);switch(i.event){case"ready":j.trigger("slider_transition_finnished"),s("addEventListener","finish"),s("addEventListener","play"),o.autoplay.autostart_video_playback&&s("play");break;case"play":if(a)break;P.video_playing=a=!0,H.autoplay.reset();break;case"finish":setTimeout(H.next,1e3)}},$player=e('<iframe src="'+n+'?api=1" width="'+t.dimensions.width+'" height="'+t.dimensions.height+'" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>'),H._on_pre_item_change=function(){i.addEventListener?i.removeEventListener("message",onPlayerEvent,!1):i.detachEvent("onmessage",onPlayerEvent)},i.addEventListener?i.addEventListener("message",onPlayerEvent,!1):i.attachEvent("onmessage",onPlayerEvent),t.container.append($player)},_flow_player:function(e){var i=!1;e.container.html('<video src="'+e.id+'" />').flowplayer({swf:o.flowplayer_src}).bind("ready",function(){j.trigger("slider_transition_finnished"),o.autoplay.autostart_video_playback&&e.container.flowplayer().play()}).bind("resume",function(){o.autoplay.enable&&!i&&(i=!0,P.video_playing=!0,H.autoplay.reset())}).bind("finish",function(){o.autoplay.enable&&setTimeout(H.next,1e3)})}},key_browse:function(){e(t).keyup(function(e){return 37===e.keyCode&&H.prev(),39===e.keyCode&&H.next(),!1})},_scrollable_boxes:{init:function(i){var t,n=o.scrollable_boxes[i.box];t=L.scrollable_boxes[i.box]={jq:{container:e('<div class="scrollable_box'+(i.custom_class?" "+i.custom_class:"")+'" />').data("disabled",!1),viewport:e('<div class="viewport" />'),content:e('<div class="overview" />'),scrollbar:e()}},t.jq.container.append(t.jq.viewport),t.jq.viewport.append(t.jq.content),j.prepend(t.jq.container),H._scrollable_boxes.size(i.box),n.container.resize_to_content||t.jq.container.height(t.dimensions.height),H._scrollable_boxes.display(i),n.container.show_on_hover&&j.hover(function(){L.mouse_entered=!0,0==t.jq.container.data("disabled")&&t.jq.container.stop(!0).fadeTo(200,1,function(){t.jq.container.css("display","block")})},function(){L.mouse_entered=!1,0==t.jq.container.data("disabled")&&t.jq.container.stop(!0).fadeTo(200,0,function(){t.jq.container.css("display","none")})})},size:function(i){var t=L.scrollable_boxes[i],n=o.scrollable_boxes[i];n.display&&(t.jq.scrollbar.remove(),t.jq.scrollbar=e('<div class="scrollbar"><div class="track"><div class="thumb"><div class="end"></div></div></div></div>'),t.dimensions=H.get_dimensions(n.container.dimensions),H.position_element(t.jq.container,n.container.position),t.dimensions.height>L.container_dimensions.height&&(t.dimensions.height=L.container_dimensions.height),t.dimensions.width>L.container_dimensions.width&&(t.dimensions.width=L.container_dimensions.width),t.jq.container.width(t.dimensions.width).css({maxHeight:t.dimensions.height}).append(t.jq.scrollbar).eds_tinyscrollbar({size:t.dimensions.height-(t.jq.scrollbar.outerHeight(!0)-t.jq.scrollbar.height())}).hide(0),t.jq.viewport.css({maxHeight:t.dimensions.height-t.jq.viewport.outerHeight(!0)}),n.container.resize_to_content||t.jq.container.height(t.dimensions.height))},display:function(e){var i=L.scrollable_boxes[e.box],t=o.scrollable_boxes[e.box],n=function(){var e=function(){i.jq.viewport.stop(!0).fadeTo(200,1,function(){i.jq.scrollbar.css("display","block")}),i.jq.scrollbar.hasClass("disable")||i.jq.scrollbar.stop(!0).fadeTo(200,1,function(){i.jq.scrollbar.css("display","block")})};i.jq.viewport.css({visibility:"",display:"none"}),t.container.show_on_hover?L.mouse_entered?e():(i.jq.viewport.css({display:"block"}),i.jq.scrollbar.hasClass("disable")||i.jq.scrollbar.css({display:"block"})):e()};t.display&&("string"==typeof e.content&&e.content?(i.jq.container.data("disabled",!1),i.jq.container.is(":visible")?(i.jq.container.css({height:i.jq.container.height()}),i.jq.scrollbar.stop(!0).fadeTo(200,0,function(){i.jq.scrollbar.css("display","none")}),i.jq.viewport.stop(!0).fadeTo(200,0,function(){i.jq.content.html(e.content),i.jq.viewport.css({visibility:"hidden",display:"block"}).removeClass("scrollable"),i.jq.container.eds_tinyscrollbar_update(),i.jq.scrollbar.hasClass("disable")||(i.jq.viewport.addClass("scrollable"),i.jq.container.eds_tinyscrollbar_update()),!t.container.resize_to_content||t.container.show_on_hover&&!L.mouse_entered?(i.jq.container.height(i.dimensions.height),n()):i.jq.container.animate({height:i.jq.viewport.outerHeight(!0)},200,n)})):(i.jq.container.css({visibility:"hidden",display:"block"}),i.jq.viewport.removeClass("scrollable"),i.jq.content.html(e.content),i.jq.container.eds_tinyscrollbar_update(),i.jq.scrollbar.hasClass("disable")?i.jq.scrollbar.css({display:"none"}):(i.jq.viewport.addClass("scrollable"),i.jq.scrollbar.css({display:"block",opacity:1}),i.jq.container.eds_tinyscrollbar_update()),i.jq.container.css({visibility:"",display:"none",height:t.container.resize_to_content?i.jq.viewport.outerHeight(!0):i.dimensions.height}),(!t.container.show_on_hover||L.mouse_entered)&&i.jq.container.stop(!0).fadeTo(200,1,function(){i.jq.container.css("display","block")}))):i.jq.container.data("disabled",!0).stop(!0).fadeTo(200,0,function(){i.jq.container.css("display","none")}))}},item_info:{init:function(){H._scrollable_boxes.init({box:"item_info",custom_class:"item_info",content:M.category.items[M.item.index].info})},display:function(e){H._scrollable_boxes.display({box:"item_info",content:M.category.items[e].info})}},gallery_info:{init:function(){H._scrollable_boxes.init({box:"gallery_info",custom_class:"gallery_info",content:M.category.info})},display:function(){H._scrollable_boxes.display({box:"gallery_info",content:M.category.info})}},autoplay_toggle:{init:function(){v=e('<a href="#" class="autoplay_toggle">Play/Pause</a>'),o.autoplay.enable?v.addClass("pause"):P.user_paused=!0,v.prependTo(j).click(function(){return P.user_paused?(P.user_paused=!1,v.addClass("pause"),o.autoplay.enable||(P.fade_in=!0,o.autoplay.enable=!0,H.autoplay.init()),o.autoplay.pause_on_hover||H.autoplay.start()):(v.removeClass("pause"),P.user_paused=!0,P.pause||H.autoplay.pause()),!1}),H.position_element(v,o.autoplay_toggle.position),M.category.item_count<2&&v.css("display","none"),o.autoplay_toggle.auto_hide&&(v.css("display","none"),j.hover(function(){M.category.item_count<2||v.stop().fadeTo(o.autoplay_toggle.hide_speed,1)},function(){v.stop().fadeTo(o.autoplay_toggle.hide_speed,0)}))},display_category:function(){var e="";o.autoplay_toggle.display&&(M.category.item_count<2&&(e="none"),v.css("display",e))}},autoplay:{init:function(){o.autoplay.indicator.display&&(y=e('<div class="indicator" />'),b=e('<div class="autoplay_container" />'),H.autoplay.size(),"vertical"!=o.autoplay.indicator.orientation||o.autoplay.indicator.flip_direction?o.autoplay.indicator.flip_direction&&y.css({left:"auto",right:0}):y.css({top:"auto",bottom:0}),b.append(y).css("display","none"),P.fade_in?(j.append(b),b.fadeIn(300)):(j.prepend(b),b.css("display",""))),j.bind("slider_transition_finnished",function(){P.user_paused||P.pause||H.autoplay.start()})},size:function(){o.autoplay.enable&&o.autoplay.indicator.display&&(L.autoplay.indicator=H.get_dimensions(o.autoplay.indicator.dimensions),H.position_element(b,o.autoplay.indicator.position),"vertical"==o.autoplay.indicator.orientation?y.width(L.autoplay.indicator.width):y.height(L.autoplay.indicator.height),b.css(L.autoplay.indicator))},start:function(){var e=o.autoplay.interval,i=!0;return M.category.item_count<2?void(o.autoplay.indicator.display&&b.css("display","none")):void(o.autoplay.enable&&""==P.interval&&(P.last_started=(new Date).getTime(),P.reset=!1,0!=P.time_remaining&&(i=!1,e=P.time_remaining),o.autoplay.indicator.display&&(b.css("display",""),y.stop(),"vertical"==o.autoplay.indicator.orientation?(i&&y.height(0),y.animate({height:L.autoplay.indicator.height},e,"linear")):(i&&y.width(0),y.animate({width:L.autoplay.indicator.width},e,"linear"))),P.interval=setTimeout(H.next,e)))},pause:function(){o.autoplay.enable&&!P.reset&&(P.pause_time=(new Date).getTime(),P.start_pause_delta=P.pause_time-P.last_started,o.autoplay.indicator.display&&y.stop(),P.time_remaining=(0==P.time_remaining?o.autoplay.interval:P.time_remaining)-P.start_pause_delta,clearTimeout(P.interval),P.interval="")},reset:function(){o.autoplay.enable&&(clearTimeout(P.interval),P.interval="",P.time_remaining=0,P.reset=!0,o.autoplay.indicator.display&&(y.stop(),"vertical"==o.autoplay.indicator.orientation?y.height(0):y.width(0)))},display_category:function(){o.autoplay.enable&&o.autoplay.indicator.display&&(M.category.item_count<2?b.css("display","none"):b.css("display",""))}},_items_panel:{init:function(e){e.page.append(e.item).appendTo(E[e.panel].container),L[e.panel].width=e.item.outerWidth(!0),L[e.panel].height=e.item.outerHeight(!0),L[e.panel].page.horizontal_space=e.page.outerWidth(!0)-e.page.width(),L[e.panel].page.vertical_space=e.page.outerHeight(!0)-e.page.height(),e.page.remove(),o[e.panel].container.transparent||E[e.panel].wrapper.addClass("not_transparent")},calculate_pages:function(e){var i;L[e.panel].container=H.get_dimensions(o[e.panel].container.dimensions),L[e.panel].page.width=L[e.panel].width+L[e.panel].page.horizontal_space,L[e.panel].page.width>L[e.panel].container.width?L[e.panel].container.width=L[e.panel].page.width:L[e.panel].page.width=L[e.panel].container.width-L[e.panel].page.horizontal_space,L[e.panel].page.height=L[e.panel].height+L[e.panel].page.vertical_space,L[e.panel].page.height>L[e.panel].container.height?L[e.panel].container.height=L[e.panel].page.height:L[e.panel].page.height=L[e.panel].container.height-L[e.panel].page.vertical_space,L[e.panel].per_row=Math.floor(L[e.panel].page.width/L[e.panel].width),L[e.panel].page.width=L[e.panel].per_row*L[e.panel].width,L[e.panel].row_count=Math.floor(L[e.panel].page.height/L[e.panel].height),L[e.panel].page.height=L[e.panel].row_count*L[e.panel].height,L[e.panel].per_page=L[e.panel].per_row*L[e.panel].row_count,L[e.panel].page.count=Math.ceil(e.item_count/L[e.panel].per_page),L[e.panel].page.count>1?(E[e.panel].pagination?(E[e.panel].pagination.next.css("display","block"),E[e.panel].pagination.prev.css("display","block")):(E[e.panel].wrapper.append('<a href="#" class="navigation '+o[e.panel].pagination.direction+' prev">Previous</a><a href="#" class="navigation '+o[e.panel].pagination.direction+' next">Next</a>'),E[e.panel].pagination={prev:E[e.panel].wrapper.find("> a.navigation.prev"),next:E[e.panel].wrapper.find("> a.navigation.next")},E[e.panel].pagination.next.click(function(){var i=E[e.panel].pages.filter(".current").index();return H._items_panel.move_to_page(e.panel,i+1),!1}),E[e.panel].pagination.prev.click(function(){var i=E[e.panel].pages.filter(".current").index();return H._items_panel.move_to_page(e.panel,i-1),!1})),"vertical"==o[e.panel].pagination.direction?(i=L[e.panel].height+L[e.panel].page.vertical_space+2*E[e.panel].pagination.prev.outerHeight(!0),i>L[e.panel].container.height&&(L[e.panel].container.height=i),E[e.panel].pagination.next.css({top:L[e.panel].container.height-E[e.panel].pagination.next.height()}),L[e.panel].row_count=Math.floor((L[e.panel].container.height-2*E[e.panel].pagination.prev.outerHeight(!0)-L[e.panel].page.vertical_space)/L[e.panel].height),L[e.panel].page.height=L[e.panel].row_count*L[e.panel].height):(i=L[e.panel].width+L[e.panel].page.horizontal_space+2*E[e.panel].pagination.prev.outerWidth(!0),i>L[e.panel].container.width&&(L[e.panel].container.width=i),L[e.panel].per_row=Math.floor((L[e.panel].container.width-2*E[e.panel].pagination.prev.outerWidth(!0)-L[e.panel].page.horizontal_space)/L[e.panel].width),L[e.panel].page.width=L[e.panel].per_row*L[e.panel].width),L[e.panel].per_page=L[e.panel].per_row*L[e.panel].row_count,L[e.panel].page.count=Math.ceil(e.item_count/L[e.panel].per_page)):E[e.panel].pagination&&(E[e.panel].pagination.next.css("display","none"),E[e.panel].pagination.prev.css("display","none")),E[e.panel].wrapper.css(L[e.panel].container),L[e.panel].window_width=L[e.panel].page.width+L[e.panel].page.horizontal_space,L[e.panel].window_height=L[e.panel].page.height+L[e.panel].page.vertical_space,E[e.panel].window.width(L[e.panel].window_width).height(L[e.panel].window_height).css({top:Math.floor((L[e.panel].container.height-L[e.panel].window_height)/2)}),"vertical"==o[e.panel].pagination.direction?E[e.panel].container.width(L[e.panel].window_width).height(0):E[e.panel].container.width(0).height(L[e.panel].window_height),H.position_element(E[e.panel].wrapper,o[e.panel].container.position)},move_to_page:function(e,i){var t,n=E[e].pages.length-1,a=10;if(!(0>n||E[e].pages.eq(i).hasClass("current"))){if(i>n)return t="vertical"==o[e].pagination.direction?{top:n*-(L[e].page.height+L[e].page.vertical_space)-a}:{left:n*-(L[e].page.width+L[e].page.horizontal_space)-a},void E[e].container.animate(t,40,"swing",function(){t="vertical"==o[e].pagination.direction?{top:n*-(L[e].page.height+L[e].page.vertical_space)}:{left:n*-(L[e].page.width+L[e].page.horizontal_space)},E[e].container.animate(t,50,"swing")});if(0>i)return t="vertical"==o[e].pagination.direction?{top:a}:{left:a},void E[e].container.animate(t,40,"swing",function(){t="vertical"==o[e].pagination.direction?{top:0}:{left:0},E[e].container.animate(t,50,"swing")});E[e].pages.removeClass("current").eq(i).addClass("current"),t="vertical"==o[e].pagination.direction?{top:i*-(L[e].page.height+L[e].page.vertical_space)}:{left:i*-(L[e].page.width+L[e].page.horizontal_space)},E[e].container.stop(!0,!1).animate(t,o[e].pagination.duration,o[e].pagination.easing)}}},thumbnails:{init:function(){E.thumbs={container:e('<div class="thumb_container" />'),window:e('<div class="thumb_window" />'),wrapper:e('<div class="thumb_wrapper" />')},E.thumbs.window.append(E.thumbs.container),E.thumbs.wrapper.append(E.thumbs.window),j.prepend(E.thumbs.wrapper),H._items_panel.init({panel:"thumbs",page:e("<ul />"),item:e('<li><img src="'+r[0].items[0].thumb.src+'" alt="" style="width: '+o.thumbs.width+"px !important; height: "+o.thumbs.height+'px !important;" /></li>')}),o.thumbs.auto_hide&&(E.thumbs.wrapper.css({display:"none"}),j.hover(function(){E.thumbs.wrapper.stop().fadeTo(o.thumbs.hide_speed,1)},function(){E.thumbs.wrapper.stop().fadeTo(o.thumbs.hide_speed,0)})),H.thumbnails.display_category(!1),H.thumbnails.select(M.item.index)},display_category:function(){var i,t,n,a,s,r,l=0,c=arguments.length>0&&arguments[0]===!1?!1:!0;if(o.thumbs.display){for(H._items_panel.calculate_pages({panel:"thumbs",item_count:M.category.item_count}),E.thumbs.container.html("");l<M.category.item_count;l++)l%L.thumbs.per_page===0&&("vertical"==o.thumbs.pagination.direction?E.thumbs.container.height(E.thumbs.container.height()+L.thumbs.window_height):E.thumbs.container.width(E.thumbs.container.width()+L.thumbs.window_width),i=e("<ul />"),i.width(L.thumbs.page.width).height(L.thumbs.page.height).appendTo(E.thumbs.container)),n=o.thumbs.captions&&"string"==typeof M.category.items[l].thumb.caption&&M.category.items[l].thumb.caption?'<div class="caption_wrapper"><div class="caption">'+M.category.items[l].thumb.caption+"</div></div>":"",a=o.thumbs.display_item_types?'<span class="item_type_icon '+M.category.items[l].type+'"></span>':"",t='<li><img style="width: '+o.thumbs.width+"px !important; height: "+o.thumbs.height+'px !important;" src="'+M.category.items[l].thumb.src+'" alt="" />'+a+n,c&&(e("<img />").load({index:l},function(i){E.thumbs.pages.find(".thumb_preloading").eq(i.data.index).fadeTo(500,0,function(){e(this).remove()})}).attr("src",M.category.items[l].thumb.src),t+='<div class="thumb_preloading"></div>'),i.append(t+"</li>"),o.thumbs.tooltips.enabled&&e.fn.qtip&&(r=!0,s="",M.category.items[l].thumb.tooltip&&(o.thumbs.tooltips.title&&M.category.items[l].thumb.tooltip.title&&(s='<p class="title">'+M.category.items[l].thumb.tooltip.title+"</p>",r=!1),o.thumbs.tooltips.description&&M.category.items[l].thumb.tooltip.description&&(s+='<div class="description">'+M.category.items[l].thumb.tooltip.description+"</div>",r=!1),r||i.find("> li").filter(":last").qtip({content:{text:s},position:o.thumbs.tooltips.position,style:{classes:"chameleon_slider_tooltip "+o.thumbs.tooltips.classes,tip:{corner:!0}}})));E.thumbs.pages=E.thumbs.container.find("> ul")}},trigger:function(){E.thumbs.container.delegate("ul > li","click",function(){var i=e(this);return H.show_item(i.parent().index()*L.thumbs.per_page+i.index()),!1})},select:function(e){if(o.thumbs.display){var i=E.thumbs.pages.find("> li").eq(e);H._items_panel.move_to_page("thumbs",i.parent().index()),E.thumbs.pages.find("> li.on").removeClass("on"),i.addClass("on")}}},categories:{init:function(){E.categories={container:e('<div class="categories_container" />'),window:e('<div class="categories_window" />'),wrapper:e('<div class="categories_wrapper '+o.categories.pagination.direction+'" />')},E.categories.window.append(E.categories.container),E.categories.wrapper.append(E.categories.window),j.prepend(E.categories.wrapper),H._items_panel.init({panel:"categories",page:e("<ul />"),item:e('<li style="width: '+o.categories.width+"px; height: "+o.categories.height+'px;" />')}),o.categories.auto_hide&&(E.categories.wrapper.css({display:"none"}),j.hover(function(){E.categories.wrapper.stop().fadeTo(o.categories.hide_speed,1)},function(){E.categories.wrapper.stop().fadeTo(o.categories.hide_speed,0)})),H.categories.display_categories()},display_categories:function(){var i,t,n,a,s,c,d,p,_=[],h=0,g=l.indexes[l.indexes.length-1];if(o.categories.display){if(L.categories.render_categories){for(1==l.indexes.length?_=r:(a=e.extend([],l.indexes),a.pop(),_=H.get_category(a).children,_=[{id:-1,name:"&lt;Back",open_parent:!0}].concat(_),g++),n=_.length,H._items_panel.calculate_pages({panel:"categories",item_count:n}),E.categories.container.empty(),h=0;n>h;h++)h%L.categories.per_page===0&&("vertical"==o.categories.pagination.direction?E.categories.container.height(E.categories.container.height()+L.categories.window_height):E.categories.container.width(E.categories.container.width()+L.categories.window_width),i=e("<ul />"),i.width(L.categories.page.width).height(L.categories.page.height).appendTo(E.categories.container)),s="undefined"!=typeof _[h].children&&_[h].children.length>0,t="<li"+(_[h].open_parent?' class="open_parent"':"")+(s?' class="has_children"':"")+' style="width: '+o.categories.width+"px; height: "+o.categories.height+'px;"><a href="#" class="'+(_[h].open_parent?"back_button":"category")+'"><span>'+_[h].name+"</span></a>",s&&(t+='<a href="#" class="open_children"></a>'),t+="</li>",i.append(t);E.categories.pages=E.categories.container.find("> ul"),d=E.categories.pages.find("> li > a.category"),c=d.eq(0),p=o.categories.height-(c.outerHeight(!0)-c.height()),d.height(p),d.each(function(){var i=e(this),t=i.find("span"),n=t.height();t.css(p>n?{top:Math.floor((p-n)/2)}:{top:0})})}else l.indexes.length>1&&g++,L.categories.render_categories=!0;H.categories.select(g)}},trigger:function(){E.categories.container.delegate("li > a","click",function(){var i,t=e(this),n=t.parent(),a=n.parent(),o=a.index()*L.categories.per_page+n.index();if(i=E.categories.pages.find("> li").eq(0),i.hasClass("open_parent")&&o--,t.hasClass("category")){if(n.hasClass("on"))return!1;l.indexes.pop(),l.indexes.push(o),l.ids=H.category_ids_from_indexes(l.indexes),M.category=H.get_category(l.indexes),M.category.item_count=M.category.items.length,M.item={id:M.category.items[0].id,index:0},L.categories.render_categories=!1,H.change_category()}else t.hasClass("open_children")?(l.indexes.pop(),l.indexes.push(o),l.indexes.push(0),l.ids=H.category_ids_from_indexes(l.indexes),M.category=H.get_category(l.indexes),M.category.item_count=M.category.items.length,M.item={id:M.category.items[0].id,index:0},H.change_category()):t.hasClass("back_button")&&(l.indexes.pop(),l.ids=H.category_ids_from_indexes(l.indexes),M.category=H.get_category(l.indexes),M.category.item_count=M.category.items.length,M.item={id:M.category.items[0].id,index:0},H.change_category());return!1})},select:function(e){var i=E.categories.pages.find("> li").eq(e);H._items_panel.move_to_page("categories",i.parent().index()),E.categories.pages.find("> li.on").removeClass("on"),i.addClass("on")}},change_category:function(){H.main_panel.display_category(),H.categories.display_categories(),H.thumbnails.display_category(),H.pagination.display_category(),H.gallery_title.select(),H.gallery_info.display(),H.arrows.display_category(),H.autoplay_toggle.display_category(),H.autoplay.display_category(),H.show_item(M.item.index,!0)},arrows:{init:function(){w=e('<a href="#" class="navigation_button prev">Previous</a>'),x=e('<a href="#" class="navigation_button next">Next</a>'),j.prepend(w,x),H.position_element(w,o.arrows.prev.position),H.position_element(x,o.arrows.next.position),H.arrows.display_category()},trigger:function(){w.click(function(){return H.prev(),!1}),x.click(function(){return H.next(),!1}),o.arrows.auto_hide&&(w.fadeTo(0,0),x.fadeTo(0,0),j.hover(function(){1!=M.category.item_count&&(w.stop().fadeTo(o.arrows.hide_speed,1),x.stop().fadeTo(o.arrows.hide_speed,1))},function(){w.stop().fadeTo(o.arrows.hide_speed,0),x.stop().fadeTo(o.arrows.hide_speed,0)}))},display_category:function(){var e="";1==M.category.item_count&&(e="none"),w.css("display",e),x.css("display",e)}},_title_box:{init:function(i){var t,n;L.title_boxes[i.box]=e('<span class="title_box'+(i.custom_class?" "+i.custom_class:"")+'" style="height: '+o.title_boxes[i.box].height+'px;"><span>T</span></span>'),t=L.title_boxes[i.box].find("> span"),L.title_boxes[i.box].css("visibility","hidden"),j.prepend(L.title_boxes[i.box]),H.position_element(L.title_boxes[i.box],o.title_boxes[i.box].position),n=Math.floor((o.title_boxes[i.box].height-t.height())/2),0>n&&(n=0),t.css({top:n}).empty(),L.title_boxes[i.box].css("visibility","")},change_text:function(e){e.text?L.title_boxes[e.box].is(":visible")?L.title_boxes[e.box].stop().fadeTo(200,0,function(){L.title_boxes[e.box].fadeTo(400,1).find("> span").html(e.text)}):L.title_boxes[e.box].stop().fadeTo(400,1).find("> span").html(e.text):L.title_boxes[e.box].stop().fadeTo(200,0)}},item_title:{init:function(){H._title_box.init({box:"current_item",custom_class:"current_item"}),H.item_title.select(M.item.index)},select:function(e){o.title_boxes.current_item.display&&H._title_box.change_text({box:"current_item",text:M.category.items[e].title})},size:function(){o.title_boxes.current_item.display&&H.position_element(L.title_boxes.current_item,o.title_boxes.current_item.position)}},gallery_title:{init:function(){H._title_box.init({box:"current_gallery",custom_class:"current_gallery"}),H.gallery_title.select()},select:function(){o.title_boxes.current_gallery.display&&H._title_box.change_text({box:"current_gallery",text:M.category.name})},size:function(){o.title_boxes.current_gallery.display&&H.position_element(L.title_boxes.current_gallery,o.title_boxes.current_gallery.position)}},triggers:function(){o.arrows.display&&H.arrows.trigger(),o.thumbs.display&&H.thumbnails.trigger(),o.categories.display&&H.categories.trigger(),o.key_browse&&H.key_browse(),o.autoplay.enable&&H.autoplay.start(),o.autoplay.pause_on_hover&&j.hover(function(){M.category.item_count<2||P.user_paused||P.pause||(P.pause=!0,H.autoplay.pause())},function(){M.category.item_count<2||(P.pause=!1,P.video_playing||P.user_paused||P.transition_in_progres||H.autoplay.start())}),j.bind("resize_slider",function(){H.autoplay.reset(),j.css(L.container_dimensions),H.main_panel.size(),H.autoplay.size(),H._scrollable_boxes.size("gallery_info"),H._scrollable_boxes.size("item_info"),H.gallery_title.size(),H.item_title.size(),H.thumbnails.display_category(!1),H.categories.display_categories(),o.pagination.display&&H.position_element(h,o.pagination.position),o.autoplay_toggle.display&&H.position_element(v,o.autoplay_toggle.position),o.arrows.display&&(H.position_element(w,o.arrows.prev.position),H.position_element(x,o.arrows.next.position)),H.show_item(M.item.index,!0,"")}),q.fadeOut(200,function(){q.remove()}),j.trigger("slider_initialized")},get_dimensions:function(e){var i;return i=arguments.length>1&&"object"==typeof arguments[1]?arguments[1]:{width:L.container_dimensions.width,height:L.container_dimensions.height},{width:e.w_as_ratio?Math.floor(i.width*e.width):e.width,height:e.h_as_ratio?Math.floor(i.height*e.height):e.height}},position_element:function(e,i){var t=i.v_as_ratio?Math.floor(i.v_offset*L.container_dimensions.height):i.v_offset,n=i.h_as_ratio?Math.floor(i.h_offset*L.container_dimensions.width):i.h_offset;i.v_center_point&&(t-=Math.floor(e.outerHeight()/2)),i.h_center_point&&(n-=Math.floor(e.outerWidth()/2)),"top"==i.vertical?e.css("top",t):e.css({top:"auto",bottom:t}),"left"==i.horizontal?e.css("left",n):e.css({left:"auto",right:n})},category_indexes_from_ids:function(i,t){var n,a=0,o=[];if(0==i.length)return[];for(n=e.isArray(t)?t.length:0;n>a;a++)if(t[a].id==i[0])return i.shift(),0!=i.length&&(o=H.category_indexes_from_ids(i,t[a].children),0==o.length)?[]:[a].concat(o);return[]},category_ids_from_indexes:function(e){var i,t=e.length,n=1,a=r[e[0]];for(i=[a.id];t>n;n++)a=a.children[e[n]],i.push(a.id);return i},get_category:function(i){var t,n=i.length,a=1;if(!e.isArray(i)||0==i.length)return r[0];for(t=r[i[0]];n>a;a++)t=t.children[i[a]];return t},item_index_from_id:function(e){var i=M.category.items,t=i.length,n=0;if(void 0==e)return 0;for(;t>n;n++)if(i[n].id==e)return n;return 0},set_url_param:function(e,i){var t,n,a="",o="",s=i+(arguments.length>2?"="+arguments[2]:""),r=!1,l=!1;if(e=e.split("#"),a=1==e.length?!1:e[1],e=e[0].split("?"),1==e.length||""==e[1])o=e[0]+"?"+s;else{o=e[0]+"?",t=e[1].split("&");for(n in t)"string"==typeof t[n]&&(r=t[n].split("="),r[0]==i?(l=!0,o+=s+"&"):o+=1==r.length?r[0]+"&":r[0]+"="+r[1]+"&");l?o=o.substring(0,o.length-1):o+=s}return o+(a===!1?"":"#"+a)}};H.init()})},e.fn.chameleonSliderFullscreen=function(i){var a,o,s=function(){a.fadeTo(500,0,function(){o.trigger("destroy"),a.remove()}),e(t).unbind("keydown.chameleonslider_fullscreen")};a=e('<div id="chameleonSliderFullscreen_'+i.module_id+'" style="z-index: 15000; overflow: hidden; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, .5);"><div class="chameleon_slider '+i.theme+'" /></div>'),e("body").append(a),o=a.find("> .chameleon_slider"),e.extend(!0,i,{container_dimensions:{width:1,height:1,w_as_ratio:!0,h_as_ratio:!0},autoplay:{pause_on_hover:!1},buttons:{exit_fullscreen:{display:!0},fullscreen:{display:!1}},main_panel:{stretch_small_image:!0}}),o.bind("slider_initialized",function(){o.find("> .exit_fullscreen").click(function(){return s(),!1}),e(t).bind("keydown.chameleonslider_fullscreen",function(e){27==e.which&&s()})}),o[n](i)}}(eds1_8,window,document);